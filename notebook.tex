\documentclass[10pt]{article}
% Mode switch: print vs read controlled by presence of printmode.flag
\newif\ifprintmode
\IfFileExists{printmode.flag}{\printmodetrue}{\printmodefalse}
\usepackage[left=0.4in,right=0.4in,top=0.7in,bottom=0.4in]{geometry}
\usepackage{hyperref}
\usepackage{lmodern}
\usepackage{fancyhdr}
\usepackage{microtype}
\usepackage{upquote}
\usepackage{lastpage}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{tocloft}
\usepackage{pdflscape}
\usepackage{multicol}
% Improve PDF UX: subtle link/bookmark behavior and column spacing
\hypersetup{
  colorlinks=false,
  pdfborder={0 0 0},
  bookmarksopen=true,
  bookmarksnumbered=true
}
\setlength{\columnsep}{0.8cm}
\setcounter{tocdepth}{2}
% Soporte para UTF-8 en texto y en listings
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listingsutf8}

% Use a clearer monospace font (Latin Modern Mono)
\renewcommand*{\ttdefault}{lmtt}
\renewcommand\cftsecfont{\fontsize{8}{9}\bfseries}
\renewcommand\cftsecpagefont{\fontsize{8}{9}\mdseries}
\renewcommand\cftsubsecfont{\fontsize{5}{6}\mdseries}
\renewcommand\cftsubsecpagefont{\fontsize{5}{6}\mdseries}
\renewcommand\cftsecafterpnum{\vspace{-1ex}}
\renewcommand\cftsubsecafterpnum{\vspace{-1ex}}

% Color palette switches for print vs read
\ifprintmode
  \colorlet{CodeKw}{black}
  \colorlet{CodeComment}{black!60}
  \colorlet{CodeIdent}{black}
  \colorlet{CodeString}{black}
  \colorlet{CodeRule}{black!30}
  \colorlet{CodeBg}{white}
\else
  \colorlet{CodeKw}{blue!60!black}
  \colorlet{CodeComment}{gray!70}
  \colorlet{CodeIdent}{black}
  \colorlet{CodeString}{teal!60!black}
  \colorlet{CodeRule}{gray!60}
  \colorlet{CodeBg}{gray!04}
\fi

\lstdefinestyle{shared}{
    belowcaptionskip=1\baselineskip,
    breaklines=true,
    xleftmargin=\parindent,
    showstringspaces=false,
    basicstyle=\fontsize{6}{6.5}\ttfamily,
    tabsize=2,
    numbers=left,
    numberstyle=\fontsize{4}{4.5}\selectfont\color{gray},
    stepnumber=1,
    numbersep=6pt,
    frame=lines,
    rulecolor=\color{CodeRule},
    framesep=3pt,
    backgroundcolor=\color{CodeBg},
}
\lstdefinestyle{cpp}{
	style=shared,
    language=C++,
    keywordstyle=\bfseries\color{CodeKw},
    commentstyle=\itshape\color{CodeComment},
    identifierstyle=\color{CodeIdent},
    stringstyle=\color{CodeString},
}
\lstdefinestyle{java}{
    style=shared,
    language=Java,
    keywordstyle=\bfseries\color{CodeKw},
    commentstyle=\itshape\color{CodeComment},
    identifierstyle=\color{CodeIdent},
    stringstyle=\color{CodeString},
}
\lstdefinestyle{py}{
    style=shared,
    language=Python,
    keywordstyle=\bfseries\color{CodeKw},
    commentstyle=\itshape\color{CodeComment},
    identifierstyle=\color{CodeIdent},
    stringstyle=\color{CodeString},
}
\lstdefinestyle{txt}{
    style=shared,
}
% Asegura que listings lea archivos fuente en UTF-8 y mejore legibilidad de c√≥digo
\lstset{
  escapechar=@,
  inputencoding=utf8,
  columns=fullflexible,
  keepspaces=true,
  breakatwhitespace=true,
  postbreak=\mbox{\textcolor{gray}{$\hookrightarrow$}\space}
}

\pagestyle{fancy}
\fancyhead[L]{\raisebox{-0.2\height}{\includegraphics[height=0.6cm]{upblogo.png}}\hspace{0.5em}Universidad Privada Boliviana}
\fancyhead[C]{\nouppercase{\leftmark}}
\fancyhead[R]{\thepage~/~\pageref{LastPage}}
\fancyfoot[C]{}

\fancypagestyle{plain}
{
\fancyhead[L]{\raisebox{-0.2\height}{\includegraphics[height=0.6cm]{upblogo.png}}\hspace{0.5em}Universidad Privada Boliviana}
\fancyhead[C]{\nouppercase{\leftmark}}
\fancyhead[R]{\thepage~/~\pageref{LastPage}}
\fancyfoot[C]{}
}

\title{\vspace{-4ex}\Large{Universidad Privada Boliviana ICPC Team Notebook (2025-26)}}
\author{}
\date{}

\begin{document}
\begin{landscape}
\begin{multicols}{2}

% UPB logo on title page
\maketitle
\vspace{-13ex}
% Compact table of contents + list of algorithms
\hypertarget{TOC}{}
\begingroup\small\tableofcontents\endgroup
\begingroup\small\renewcommand{\lstlistlistingname}{List of Algorithms}\lstlistoflistings\endgroup
% Start content on a fresh page (first section begins on a new page)
\newpage\newpage
\pagestyle{fancy}

\input contents.tex

\end{multicols}
\end{landscape}
\end{document}
